<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Generador de Enlaces</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
      padding: 40px;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    .country-buttons button {
      margin: 6px;
      font-weight: bold;
      border-radius: 30px;
    }
    .input-section {
      max-width: 400px;
      margin-top: 40px;
      background-color: white;
      border-radius: 20px;
      padding: 30px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.1);
    }
    h1, h2 {
      font-weight: 700;
      color: #333;
    }
    input[type="number"] {
      text-align: center;
      font-size: 1.2rem;
    }
    .btn-outline-success {
      font-size: 1.1rem;
      border-radius: 25px;
    }
    .btn-rooster, .btn-ausencias {
      font-size: 1.1rem;
      border-radius: 25px;
    }
  </style>
</head>
<body>
  <div class="container text-center">
    <h1 class="mb-2">üöÄ Cash Collection PEYA</h1>
    <h2 class="mb-4">Pa√≠s seleccionado: <span id="selectedCountryDisplay">ninguno</span></h2>

    <div class="country-buttons d-flex flex-wrap justify-content-center">
      <button class="btn btn-primary" onclick="setCountry('ar')">AR</button>
      <button class="btn btn-secondary" onclick="setCountry('bo')">BO</button>
      <button class="btn btn-success" onclick="setCountry('cl')">CL</button>
      <button class="btn btn-danger" onclick="setCountry('cr')">CR</button>
      <button class="btn btn-warning" onclick="setCountry('do')">DO</button>
      <button class="btn btn-info" onclick="setCountry('ec')">EC</button>
      <button class="btn btn-dark" onclick="setCountry('gt')">GT</button>
      <button class="btn btn-primary" onclick="setCountry('hn')">HN</button>
      <button class="btn btn-secondary" onclick="setCountry('ni')">NI</button>
      <button class="btn btn-success" onclick="setCountry('pa')">PA</button>
      <button class="btn btn-danger" onclick="setCountry('pe')">PE</button>
      <button class="btn btn-warning" onclick="setCountry('py')">PY</button>
      <button class="btn btn-info" onclick="setCountry('sv')">SV</button>
      <button class="btn btn-dark" onclick="setCountry('uy')">UY</button>
      <button class="btn btn-primary" onclick="setCountry('ve')">VE</button>
    </div>

    <div class="input-section mx-auto">
      <h4 class="mb-3">üîé Ingresa el Rider ID</h4>
      <input type="number" class="form-control mb-3" id="inputNumber" placeholder="Rider ID aqu√≠, plz" required>
      <button class="btn btn-outline-success w-100" onclick="sendLink()">¬°VAMOS!</button>
      <div class="d-flex gap-2 mt-3">
        <button class="btn btn-primary w-50 btn-rooster" onclick="openRooster()">üêì Rooster</button>
        <button class="btn btn-primary w-50 btn-ausencias" onclick="openAusencias()">üìÜ Ausencias</button>
      </div>
    </div>
  </div>

  <script>
    let selectedCountry = 'ninguno';

    function setCountry(countryCode) {
      selectedCountry = countryCode.toLowerCase();
      document.getElementById('selectedCountryDisplay').textContent = countryCode.toUpperCase();
    }

    function sendLink() {
      const inputField = document.getElementById('inputNumber');
      const input = inputField.value;
      if (!input || isNaN(input)) {
        alert('Por favor, ingresa un n√∫mero v√°lido.');
        return;
      }
      const url = `https://${selectedCountry}.us.logisticsbackoffice.com/dashboard/cash-collection/courier/${input}`;
      window.open(url, '_blank');
      inputField.value = '';
    }

    function openRooster() {
      if (selectedCountry === 'ninguno') {
        alert('Primero selecciona un pa√≠s.');
        return;
      }
      const roosterUrl = `https://${selectedCountry}.us.logisticsbackoffice.com/dashboard/rooster/workers?filter_status=active_contract&page=1&size=10`;
      window.open(roosterUrl, '_blank');
    }

    function openAusencias() {
      if (selectedCountry === 'ninguno') {
        alert('Primero selecciona un pa√≠s.');
        return;
      }
      const ausenciasUrl = `https://${selectedCountry}.us.logisticsbackoffice.com/dashboard/rooster/absence`;
      window.open(ausenciasUrl, '_blank');
    }

    document.getElementById('inputNumber').addEventListener('keypress', function (e) {
      if (e.key === 'Enter') {
        sendLink();
      }
    });
  </script>
</body>
</html>
