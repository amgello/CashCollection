<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PEYA Shortcuts</title>
  <link rel="icon" href="icono.png" type="image/png">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
  <style>
    :root {
      --color-bg-dark: #0d1117;
      --color-text-dark: #e6edf3;
      --color-box-dark: #161b22;
      --color-shadow-dark: rgba(0, 0, 0, 0.7);
      --color-border-dark: #30363d;

      --color-bg-light: #f4f4f4;
      --color-text-light: #333;
      --color-box-light: white;
      --color-shadow-light: rgba(0, 0, 0, 0.1);
      --color-border-light: #ddd;
    }

    body {
      padding: 40px;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      transition: background 0.4s ease, color 0.4s ease;
      background-color: var(--color-bg-dark);
      color: var(--color-text-dark);
    }

    body.light-mode {
      background-color: var(--color-bg-light);
      color: var(--color-text-light);
    }

    .country-buttons button {
      margin: 6px;
      font-weight: bold;
      border-radius: 30px;
      transition: all 0.3s;
    }

    .country-buttons button.active {
      border: 2px solid #ffffff;
      transform: scale(1.05);
      box-shadow: 0 0 10px rgba(255,255,255,0.3);
    }

    body.light-mode .country-buttons button.active {
      border: 2px solid #000000;
      box-shadow: 0 0 10px rgba(0,0,0,0.2);
    }

    .input-section {
      max-width: 400px;
      margin-top: 40px;
      border-radius: 20px;
      padding: 30px;
      background-color: var(--color-box-dark);
      box-shadow: 0 8px 20px var(--color-shadow-dark);
      border: 1px solid var(--color-border-dark);
      transition: background 0.3s, box-shadow 0.3s;
    }

    body.light-mode .input-section {
      background-color: var(--color-box-light);
      box-shadow: 0 8px 20px var(--color-shadow-light);
      border: 1px solid var(--color-border-light);
    }

    h1, h2 {
      font-weight: 700;
    }

    input[type="number"] {
      text-align: center;
      font-size: 1.2rem;
      -moz-appearance: textfield;
    }

    input[type="number"]::-webkit-outer-spin-button,
    input[type="number"]::-webkit-inner-spin-button {
      -webkit-appearance: none;
      margin: 0;
    }

    .btn-outline-success {
      font-size: 1.1rem;
      border-radius: 25px;
    }

    .btn-rooster, .btn-ausencias {
      font-size: 1.1rem;
      border-radius: 25px;
    }

    .theme-toggle {
      position: absolute;
      top: 20px;
      right: 20px;
    }

    .sops-link {
      position: absolute;
      top: 20px;
      left: 20px;
    }
    .cash-link {
      position: absolute;
      top: 75px;
      left: 20px;
    }
    .Dashes-link {
      position: absolute;
      top: 130px;
      left: 20px;
    }

    .btn.position-relative .badge {
      position: absolute;
      top: -8px;
      right: -10px;
      background-color: red;
      color: white;
      font-size: 0.6rem;
      padding: 3px 6px;
      border-radius: 20px;
    }
  </style>
  <style>
    .mensaje-mes {
      display: none;
      border-radius: 12px;
      padding: 1.5em 2em;
      margin: 1.5em auto 0 auto; /* margen inferior eliminado */
      width: fit-content;
      max-width: 90%;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      font-size: 1.4em;
      font-weight: 500;
      text-align: center;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      animation: aparecer 0.9s ease-out forwards;
      opacity: 0;
      transform: translateY(-10px);
      transition: background 0.4s, color 0.4s, box-shadow 0.4s;
    }

    body.light-mode .mensaje-mes {
      background: linear-gradient(135deg, #e0f7fa, #fce4ec);
      border: 1px solid #aedfea;
      color: #444;
      box-shadow: 0 8px 18px rgba(0, 150, 136, 0.15);
    }

    body.light-mode .mensaje-mes span {
      font-weight: 700;
      color: #00796b;
      text-transform: capitalize;
    }

    body:not(.light-mode) .mensaje-mes {
      background: linear-gradient(135deg, #1c262b, #2a1f33);
      border: 1px solid #37474f;
      color: #e0f2f1;
      box-shadow: 0 8px 20px rgba(0, 150, 136, 0.08);
    }

    body:not(.light-mode) .mensaje-mes span {
      font-weight: 700;
      color: #80cbc4;
      text-transform: capitalize;
    }

    @keyframes aparecer {
      0% {
        opacity: 0;
        transform: translateY(-12px) scale(0.98);
      }
      100% {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }
  </style>
</head>
<body>

  <nav class="navbar navbar-expand-lg bg-transparent" style="margin-top: -30px; margin-bottom: -70px;">
    <div class="container-fluid">

      <a class="navbar-brand text-white" href="#" style="font-size: 50px; font-weight: bolder; font-family: 'Trebuchet MS';">🚀 PeYa</a>

      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarMain" 
        aria-controls="navbarMain" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarMain">
        <ul class="navbar-nav ms-auto mb-2 mb-lg-0">

          <li class="nav-item dropdown"> 
            <a class="nav-link dropdown-toggle text-white" href="#" id="dropdown1" role="button"  
              data-bs-toggle="dropdown" aria-expanded="false"> 
              Enlaces
            </a>
            <ul class="dropdown-menu" aria-labelledby="dropdown1">
              <li><a class="dropdown-item" href="https://admin.shopify.com/store/rider-shop-py-ar/customers?selectedColumns=CUSTOMER_NAME%2CNOTE%2CEMAIL_SUBSCRIPTION_STATUS%2CLOCATION%2CORDERS%2CAMOUNT_SPENT">AR - Shopify</a></li>
              <li><a class="dropdown-item" href="https://docs.google.com/forms/d/e/1FAIpQLSeoYlhr0NrAiPRzm2iwCZbAHEnS4bZIEfjIvM3jaDMYjs9LbQ/viewform">AR - Formulario Cambios</a></li>
              <li><hr class="dropdown-divider"></li>
              <li><a class="dropdown-item" href="https://lookerstudio.google.com/u/0/reporting/af18afc6-fa59-4c51-9940-e5b430862144/page/9H79D">PE - Cash Tracker</a></li>
              <li><a class="dropdown-item" href="https://lookerstudio.google.com/u/0/reporting/af18afc6-fa59-4c51-9940-e5b430862144/page/p_ul6v3roikd">PE - Pedidos Autocompletados</a></li>
              <li><a class="dropdown-item" href="https://lookerstudio.google.com/u/0/reporting/af18afc6-fa59-4c51-9940-e5b430862144/page/p_69ptj6rikd">PE - Devoluciones Hub</a></li>
              <li><a class="dropdown-item" href="https://docs.google.com/spreadsheets/d/1X-dFqNY7nwrnhnGDLxNmDFtOKRDx0HeXkEJ2skbKxRg/edit?gid=1936503684#gid=1936503684">PE - Rezagados Cash Tracker</a></li>
              <li><hr class="dropdown-divider"></li>
              <li><a class="dropdown-item" href="https://lookerstudio.google.com/u/0/reporting/3f07fddd-e684-4d12-8ba7-ef2709290bcd/page/B7BFE">CL - Devoluciones a DMART </a></li>
              <li><hr class="dropdown-divider"></li>
              <li><a class="dropdown-item" href="https://lookerstudio.google.com/u/0/reporting/2e9085cf-e71d-4aa0-87cb-d1a24c3493fe/page/p_akmrnjowod">GT - Devoluciones a HUB </a></li>
              <li><hr class="dropdown-divider"></li>
              <li><a class="dropdown-item" href="https://lookerstudio.google.com/u/0/reporting/98ce054d-2b6d-4447-8373-cb7097a57ca4/page/BtBBE">CR - Depósitos no reflejados </a></li>
              <li><a class="dropdown-item" href="https://docs.google.com/forms/d/e/1FAIpQLSc1UeXEnvLjxwGxyuCi-8nUXVYu4giNYrGEtUd6DH4ags9I3g/viewform">CR - Formulario depósitos</a></li>
              <li><a class="dropdown-item" href="https://lookerstudio.google.com/reporting/d2040bf0-8b2b-4f98-bafe-026bbf5feb8b/page/p_q98wuxqe9c">CR - Dasboard pedidos</a></li>

            </ul>
          </li>


          <li class="nav-item">
            <a class="nav-link text-white" href="https://amgello.github.io/CashCollection/Boost.html">Procesos</a>
          </li>

          <li class="nav-item">
            <a class="nav-link text-white" href="https://amgello.github.io/CashCollection/Orders.html">HU & BO</a>
          </li>
          <li class="nav-item">
            <button class="btn btn-outline-light fs-4" onclick="toggleTheme()" style="border-radius: 100%;">
              🌓
            </button>
          </li>

        </ul>
      </div>
    </div>
  </nav>

  <style>
    /* Transparent navbar */

    /* Submenu estilo */
    .dropdown-submenu {
      position: relative;
    }

    .dropdown-submenu > .dropdown-menu {
      top: 0;
      left: 100%;
      margin-left: .1rem;
      margin-right: .1rem;
    }


    /* Estilo tipo botón para enlaces del navbar */
.navbar .nav-link {
  background-color: var(--color-box-dark);
  color: var(--color-text-dark) !important;
  border: 1px solid var(--color-border-dark);
  padding: 8px 16px;
  border-radius: 25px;
  margin: 4px;
  font-weight: 600;
  transition: all 0.3s ease;
}

/* Hover */
.navbar .nav-link:hover,
.navbar .nav-link:focus {
  background-color: var(--color-text-dark);
  color: var(--color-bg-dark) !important;
  transform: scale(1.05);
}

/* Modo claro */
body.light-mode .navbar .nav-link {
  background-color: var(--color-box-light);
  color: var(--color-text-light) !important;
  border: 1px solid var(--color-border-light);
}

body.light-mode .navbar .nav-link:hover,
body.light-mode .navbar .nav-link:focus {
  background-color: var(--color-text-light);
  color: var(--color-bg-light) !important;
}

  </style>

  <div class="container text-center">
    <h1 class="mb-2">💸 Cash Collection</h1>
    <h2 class="mb-4">País seleccionado: <span id="selectedCountryDisplay">NN</span></h2>

    <div class="country-buttons d-flex flex-wrap justify-content-center" id="countryBtns">
      <button class="btn btn-primary" onclick="setCountry(this, 'ar', '#1e2f3f', '#d0e8ff')">AR</button>
      <button class="btn btn-success" onclick="setCountry(this, 'bo', '#1f3f1f', '#e8fce8')">BO</button>
      <button class="btn btn-warning" onclick="setCountry(this, 'cl', '#3f351e', '#fff5d0')">CL</button>
      <button class="btn btn-danger" onclick="setCountry(this, 'cr', '#3f1e1e', '#ffdada')">CR</button>
      <button class="btn btn-info" onclick="setCountry(this, 'do', '#1e3f3f', '#d1f3f9')">DO</button>
      <button class="btn btn-success" onclick="setCountry(this, 'ec', '#1f3f1f', '#e6f9e6')">EC</button>
      <button class="btn btn-danger" onclick="setCountry(this, 'gt', '#3f1e1e', '#ffe6e6')">GT</button>
      <button class="btn btn-primary" onclick="setCountry(this, 'hn', '#1e2f3f', '#d0e8ff')">HN</button>
      <button class="btn btn-warning" onclick="setCountry(this, 'ni', '#3f3a1e', '#fffacc')">NI</button>
      <button class="btn btn-success" onclick="setCountry(this, 'pa', '#1e3f2a', '#d4f7dc')">PA</button>
      <button class="btn btn-danger" onclick="setCountry(this, 'pe', '#3f1e1e', '#ffdada')">PE</button>
      <button class="btn btn-warning" onclick="setCountry(this, 'py', '#3f351e', '#fff5d0')">PY</button>
      <button class="btn btn-info" onclick="setCountry(this, 'sv', '#1e3f3f', '#d1f3f9')">SV</button>
      <button class="btn btn-primary" onclick="setCountry(this, 'uy', '#1e2f3f', '#d0e8ff')">UY</button>
      <button class="btn btn-success" onclick="setCountry(this, 've', '#1f3f1f', '#e8fce8')">VE</button>
    </div>

    <div class="input-section mx-auto">
      <h4 class="mb-3">🔎 Ingresa el Rider ID</h4>
      <input type="number" class="form-control mb-3" id="inputNumber" placeholder="Rider ID aquí, plz" required>
      <button class="btn btn-outline-info w-100" onclick="sendLink()">¡VAMOS!</button>
      <div class="d-flex gap-2 mt-3">
        <button class="btn btn-info w-50 btn-rooster" onclick="openRooster()">🐓 Rooster</button>
        <button class="btn btn-info w-50 btn-ausencias" onclick="openAusencias()">📆 Ausencias</button>
      </div>
    </div>
  </div>
  <div id="mesMensaje" class="mensaje-mes">
    Vamos por un <span id="mesNombre"></span> increíble ✨
  </div>

  <script>
    let selectedCountry = 'ninguno';
    let selectedButton = null;

    function setCountry(button, countryCode, darkBg, lightBg) {
      selectedCountry = countryCode.toLowerCase();
      document.getElementById('selectedCountryDisplay').textContent = countryCode.toUpperCase();
      document.body.style.background = document.body.classList.contains('light-mode') ? lightBg : darkBg;

      if (selectedButton) selectedButton.classList.remove('active');
      selectedButton = button;
      selectedButton.classList.add('active');
    }

    function sendLink() {
      const input = document.getElementById('inputNumber').value;
      if (!input || isNaN(input)) return alert('Por favor, ingresa un número válido.');
      window.open(`https://${selectedCountry}.us.logisticsbackoffice.com/dashboard/cash-collection/courier/${input}`, '_blank');
      document.getElementById('inputNumber').value = '';
    }

    function openRooster() {
      const input = document.getElementById('inputNumber').value;
      if (selectedCountry === 'ninguno') return alert('Primero selecciona un país.');
      if (!input || isNaN(input)) return alert('Por favor, ingresa un Rider ID válido.');
      window.open(`https://${selectedCountry}.us.logisticsbackoffice.com/dashboard/rooster/workers?filter_status=active_contract&page=1&size=10&search_id=${input}`, '_blank');
    }

    function openAusencias() {
      if (selectedCountry === 'ninguno') return alert('Primero selecciona un país.');
      window.open(`https://${selectedCountry}.us.logisticsbackoffice.com/dashboard/rooster/absence`, '_blank');
    }

    function toggleTheme() {
      document.body.classList.toggle('light-mode');
      const mode = document.body.classList.contains('light-mode') ? 'light' : 'dark';
      localStorage.setItem('theme', mode);
      if (selectedButton) selectedButton.click();
    }

    window.onload = () => {
      const savedTheme = localStorage.getItem('theme');
      if (savedTheme === 'light') document.body.classList.add('light-mode');

      // Ocultar la bolita "new" después del 31 de julio 2025
      const today = new Date();
      const cutoff = new Date('2025-08-01');
      if (today >= cutoff) {
        const badge = document.getElementById('badgeNew');
        if (badge) badge.style.display = 'none';
        const badge2 = document.getElementById('badgeSops');
        if (badge2) badge2.style.display = 'none';
      }
    };

    document.getElementById('inputNumber').addEventListener('keypress', function (e) {
      if (e.key === 'Enter') sendLink();
    });
  </script>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const hoy = new Date();
      const dia = hoy.getDate();

      // Mostrar si es del 1 al 5, o el día 31 (modo prueba)
      if ((dia >= 1 && dia <= 5)) {
        const nombresMes = [
          "enero", "febrero", "marzo", "abril", "mayo", "junio",
          "julio", "agosto", "septiembre", "octubre", "noviembre", "diciembre"
        ];
        const mesActual = nombresMes[hoy.getMonth()];

        document.getElementById("mesNombre").textContent = mesActual;
        document.getElementById("mesMensaje").style.display = "block";
      }
    });
  </script>
</body>
</html>
